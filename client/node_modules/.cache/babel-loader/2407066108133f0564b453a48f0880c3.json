{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TJ\\\\Documents\\\\FragranceX Sample Web Page\\\\client\\\\src\\\\components\\\\ItemDashboard.js\";\n\n/*\n@Filename: ItemDashboard.js\n@Author: TJ Soregaroli\n\nThis component is used to hold all Item entries from the server, and an ItemForm \nentry to create new entries. All API calls to the server are done within this component. \n*/\nimport React from 'react';\nimport axios from 'axios';\nimport Item from './Item';\nimport ItemForm from './ItemForm';\n\nclass ItemDashboard extends React.Component {\n  /*\n  Initializes Component, sets initial state. Binds all API call functions to this\n  component instance.\n  @StateProperties:\n      items: The list of items retrieved from the server.\n  */\n  constructor(props) {\n    super(props);\n\n    this.onItemUpdate = (data, index) => {\n      axios.put('http://127.0.0.1:5000/api/' + index, data).then(this.triggerUpdate);\n    };\n\n    this.onItemDeletion = index => {\n      axios.delete('http://127.0.0.1:5000/api/' + index).then(this.triggerUpdate);\n    };\n\n    this.triggerUpdate = () => {\n      var currentComponent = this;\n      axios.get('http://127.0.0.1:5000/api/').then(res => this.setState({\n        items: res.data\n      }));\n    };\n\n    this.state = {\n      items: []\n    };\n    this.onItemCreation = this.onItemCreation.bind(this);\n    this.onItemUpdate = this.onItemUpdate.bind(this);\n    this.onItemDeletion = this.onItemDeletion.bind(this);\n    this.triggerUpdate = this.triggerUpdate.bind(this);\n  }\n  /*Makes an API call to retrieve list when component mounts to view.*/\n\n\n  componentDidMount() {\n    this.triggerUpdate();\n  }\n  /*Creates a new Item instance from ItemForm and updates the view.*/\n\n\n  onItemCreation(data) {\n    axios.post('http://127.0.0.1:5000/api/', data).then(this.triggerUpdate);\n  }\n  /*Updates an existing Item instance and updates the view.*/\n\n\n  render() {\n    const itemList = []; //Creates each Item instance from items in state, adds callbacks and index to each one.\n\n    for (var item in this.state.items) itemList.push( /*#__PURE__*/React.createElement(Item, {\n      item: this.state.items[item],\n      key: item,\n      index: item,\n      onDelete: this.onItemDeletion,\n      onUpdate: this.onItemUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 27\n      }\n    })); //Appends ItemForm and each Item into view\n\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container bg-light px-3 py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-center py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"React List Example\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"col-4 mx-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"col-4 mx-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"Category\")), /*#__PURE__*/React.createElement(ItemForm, {\n      onCreate: this.onItemCreation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), itemList);\n  }\n\n}\n\nexport default ItemDashboard;","map":{"version":3,"sources":["C:/Users/TJ/Documents/FragranceX Sample Web Page/client/src/components/ItemDashboard.js"],"names":["React","axios","Item","ItemForm","ItemDashboard","Component","constructor","props","onItemUpdate","data","index","put","then","triggerUpdate","onItemDeletion","delete","currentComponent","get","res","setState","items","state","onItemCreation","bind","componentDidMount","post","render","itemList","item","push"],"mappings":";;AAAA;;;;;;;AAQA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAA4C;AACxC;;;;;;AAMAC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqBnBC,YArBmB,GAqBJ,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC5BT,MAAAA,KAAK,CAACU,GAAN,CAAU,+BAA+BD,KAAzC,EAAgDD,IAAhD,EACKG,IADL,CACU,KAAKC,aADf;AAEH,KAxBkB;;AAAA,SA2BnBC,cA3BmB,GA2BDJ,KAAD,IAAW;AACxBT,MAAAA,KAAK,CAACc,MAAN,CAAa,+BAA+BL,KAA5C,EACKE,IADL,CACU,KAAKC,aADf;AAEH,KA9BkB;;AAAA,SAiCnBA,aAjCmB,GAiCH,MAAM;AAClB,UAAIG,gBAAgB,GAAG,IAAvB;AACAf,MAAAA,KAAK,CAACgB,GAAN,CAAU,4BAAV,EACKL,IADL,CACWM,GAAG,IAAI,KAAKC,QAAL,CAAc;AAACC,QAAAA,KAAK,EAAEF,GAAG,CAACT;AAAZ,OAAd,CADlB;AAEH,KArCkB;;AAEf,SAAKY,KAAL,GAAa;AAACD,MAAAA,KAAK,EAAE;AAAR,KAAb;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKf,YAAL,GAAoB,KAAKA,YAAL,CAAkBe,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKT,cAAL,GAAsB,KAAKA,cAAL,CAAoBS,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKV,aAAL,GAAqB,KAAKA,aAAL,CAAmBU,IAAnB,CAAwB,IAAxB,CAArB;AACH;AAED;;;AACAC,EAAAA,iBAAiB,GAAG;AAChB,SAAKX,aAAL;AACH;AAED;;;AACAS,EAAAA,cAAc,CAACb,IAAD,EAAO;AACjBR,IAAAA,KAAK,CAACwB,IAAN,CAAW,4BAAX,EAAyChB,IAAzC,EACKG,IADL,CACU,KAAKC,aADf;AAEH;AAED;;;AAmBAa,EAAAA,MAAM,GAAG;AACL,UAAMC,QAAQ,GAAG,EAAjB,CADK,CAGL;;AACA,SAAK,IAAIC,IAAT,IAAiB,KAAKP,KAAL,CAAWD,KAA5B,EACIO,QAAQ,CAACE,IAAT,eAAc,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE,KAAKR,KAAL,CAAWD,KAAX,CAAiBQ,IAAjB,CAAZ;AAAoC,MAAA,GAAG,EAAEA,IAAzC;AAA+C,MAAA,KAAK,EAAEA,IAAtD;AAA4D,MAAA,QAAQ,EAAE,KAAKd,cAA3E;AAA2F,MAAA,QAAQ,EAAE,KAAKN,YAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAd,EALC,CAOL;;;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,MAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CAFJ,eAMI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKc,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOKK,QAPL,CADJ;AAYH;;AAlEuC;;AAqE5C,eAAevB,aAAf","sourcesContent":["/*\n@Filename: ItemDashboard.js\n@Author: TJ Soregaroli\n\nThis component is used to hold all Item entries from the server, and an ItemForm \nentry to create new entries. All API calls to the server are done within this component. \n*/\n\nimport React from 'react';\nimport axios from 'axios';\nimport Item from './Item';\nimport ItemForm from './ItemForm';\n\nclass ItemDashboard extends React.Component {\n    /*\n    Initializes Component, sets initial state. Binds all API call functions to this\n    component instance.\n    @StateProperties:\n        items: The list of items retrieved from the server.\n    */\n    constructor(props) {\n        super(props)\n        this.state = {items: []}\n        this.onItemCreation = this.onItemCreation.bind(this)\n        this.onItemUpdate = this.onItemUpdate.bind(this)\n        this.onItemDeletion = this.onItemDeletion.bind(this)\n        this.triggerUpdate = this.triggerUpdate.bind(this)\n    }\n\n    /*Makes an API call to retrieve list when component mounts to view.*/\n    componentDidMount() {\n        this.triggerUpdate()\n    }\n\n    /*Creates a new Item instance from ItemForm and updates the view.*/\n    onItemCreation(data) {\n        axios.post('http://127.0.0.1:5000/api/', data)\n            .then(this.triggerUpdate)\n    }\n\n    /*Updates an existing Item instance and updates the view.*/\n    onItemUpdate = (data, index) => {\n        axios.put('http://127.0.0.1:5000/api/' + index, data)\n            .then(this.triggerUpdate)\n    }\n\n    /*Deletes an Item instance and updates the view.*/\n    onItemDeletion = (index) => {\n        axios.delete('http://127.0.0.1:5000/api/' + index)\n            .then(this.triggerUpdate)\n    }\n\n    /*Retrieves Item instances from server, and populates the state with them.*/\n    triggerUpdate = () => {\n        var currentComponent = this;\n        axios.get('http://127.0.0.1:5000/api/')\n            .then( res => this.setState({items: res.data}))\n    }\n\n    render() {\n        const itemList = []\n        \n        //Creates each Item instance from items in state, adds callbacks and index to each one.\n        for (var item in this.state.items)\n            itemList.push(<Item item={this.state.items[item]} key={item} index={item} onDelete={this.onItemDeletion} onUpdate={this.onItemUpdate} />)\n        \n        //Appends ItemForm and each Item into view\n        return (\n            <div className=\"container bg-light px-3 py-3\">\n                <h2 className=\"text-center py-4\">React List Example</h2>\n                <div className=\"row py-1\">\n                    <h4 className=\"col-4 mx-2 text-center\">Name</h4>\n                    <h4 className=\"col-4 mx-2 text-center\">Category</h4>\n                </div>\n                <ItemForm onCreate={this.onItemCreation} />\n                {itemList}\n            </div>\n            \n        );\n    }\n}\n  \nexport default ItemDashboard;"]},"metadata":{},"sourceType":"module"}